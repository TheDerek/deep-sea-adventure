(this["webpackJsonpreact-tutorial"]=this["webpackJsonpreact-tutorial"]||[]).push([[0],{11:function(e,l,n){"use strict";n.d(l,"a",(function(){return r}));var r={roundEndState:{chips:[{level:1,player:null,plundered:!1},{level:1,player:null,plundered:!0},{level:1,player:null,plundered:!1},{level:1,player:null,plundered:!0},{level:1,player:null,plundered:!1},{level:1,player:null,plundered:!1},{level:1,player:null,plundered:!0},{level:1,player:null,plundered:!1},{level:2,player:null,plundered:!1},{level:2,player:null,plundered:!1},{level:2,player:null,plundered:!1},{level:2,player:null,plundered:!1},{level:2,player:null,plundered:!1},{level:2,player:null,plundered:!1},{level:2,player:null,plundered:!1},{level:2,player:null,plundered:!1},{level:3,player:null,plundered:!1},{level:3,player:null,plundered:!1},{level:3,player:null,plundered:!1},{level:3,player:null,plundered:!1},{level:3,player:null,plundered:!1},{level:3,player:null,plundered:!1},{level:3,player:null,plundered:!1},{level:3,player:null,plundered:!1},{level:4,player:null,plundered:!1},{level:4,player:null,plundered:!1},{level:4,player:null,plundered:!1},{level:4,player:null,plundered:!1},{level:4,player:null,plundered:!1},{level:4,player:null,plundered:!1},{level:4,player:null,plundered:!1},{level:4,player:null,plundered:!1}],players:[{index:0,name:"Derek",position:1,isCurrentTurn:!0,plunder:[1,1,1],willTurnBack:!0,hasTurnedBack:!0,finished:!0,money:0,drownedLastRound:!1},{index:1,name:"John",position:1,isCurrentTurn:!0,plunder:[],willTurnBack:!0,hasTurnedBack:!0,finished:!0,money:0,drownedLastRound:!1},{index:2,name:"Mike",position:2,isCurrentTurn:!0,plunder:[],willTurnBack:!0,hasTurnedBack:!0,finished:!0,money:0,drownedLastRound:!0}],gameState:"moved",currentPlayerId:0,rolled:2,air:{max:25,current:17},round:{current:1,max:3},availablePlunder:{1:[0,0,1,1,2,2,3,3],2:[4,4,5,5,6,6,7,7],3:[8,8,9,9,10,10,11,11],4:[12,12,13,13,14,14,15,15]}},lastTurnState:{chips:[{level:1,player:null,plundered:!1},{level:1,player:null,plundered:!1},{level:1,player:null,plundered:!1},{level:1,player:{index:0,name:"Derek",position:3,isCurrentTurn:!0,plunder:[1],willTurnBack:!1,hasTurnedBack:!1,finished:!1,money:0,drownedLastRound:!1},plundered:!0},{level:1,player:null,plundered:!1},{level:1,player:null,plundered:!1},{level:1,player:null,plundered:!1},{level:1,player:null,plundered:!1},{level:2,player:null,plundered:!1},{level:2,player:null,plundered:!1},{level:2,player:null,plundered:!1},{level:2,player:null,plundered:!1},{level:2,player:null,plundered:!1},{level:2,player:null,plundered:!1},{level:2,player:null,plundered:!1},{level:2,player:null,plundered:!1},{level:3,player:null,plundered:!1},{level:3,player:null,plundered:!1},{level:3,player:null,plundered:!1},{level:3,player:null,plundered:!1},{level:3,player:null,plundered:!1},{level:3,player:null,plundered:!1},{level:3,player:null,plundered:!1},{level:3,player:null,plundered:!1},{level:4,player:null,plundered:!1},{level:4,player:null,plundered:!1},{level:4,player:null,plundered:!1},{level:4,player:null,plundered:!1},{level:4,player:null,plundered:!1},{level:4,player:null,plundered:!1},{level:4,player:null,plundered:!1},{level:4,player:null,plundered:!1}],players:[{index:0,name:"Derek",position:3,isCurrentTurn:!0,plunder:[1],willTurnBack:!1,hasTurnedBack:!1,finished:!1,money:0,drownedLastRound:!1}],gameState:"playing",currentPlayerId:0,rolled:4,air:{max:25,current:0},round:{current:1,max:3},availablePlunder:{1:[0,0,1,1,2,2,3,3],2:[4,4,5,5,6,6,7,7],3:[8,8,9,9,10,10,11,11],4:[12,12,13,13,14,14,15,15]}},turnBackState:{chips:[{level:1,player:null,plundered:!1},{level:1,player:null,plundered:!1},{level:1,player:null,plundered:!0},{level:1,player:null,plundered:!0},{level:1,player:null,plundered:!1},{level:1,player:{index:1,name:"john",position:5,isCurrentTurn:!0,plunder:[1,1],willTurnBack:!0,hasTurnedBack:!1,finished:!1,money:0,drownedLastRound:!1},plundered:!0},{level:1,player:null,plundered:!1},{level:1,player:{index:0,name:"derek",position:7,isCurrentTurn:!1,plunder:[1,1],willTurnBack:!0,hasTurnedBack:!0,finished:!1,money:0,drownedLastRound:!1},plundered:!0},{level:2,player:null,plundered:!1},{level:2,player:null,plundered:!1},{level:2,player:null,plundered:!1},{level:2,player:null,plundered:!1},{level:2,player:null,plundered:!1},{level:2,player:null,plundered:!1},{level:2,player:null,plundered:!1},{level:2,player:null,plundered:!1},{level:3,player:null,plundered:!1},{level:3,player:null,plundered:!1},{level:3,player:null,plundered:!1},{level:3,player:null,plundered:!1},{level:3,player:null,plundered:!1},{level:3,player:null,plundered:!1},{level:3,player:null,plundered:!1},{level:3,player:null,plundered:!1},{level:4,player:null,plundered:!1},{level:4,player:null,plundered:!1},{level:4,player:null,plundered:!1},{level:4,player:null,plundered:!1},{level:4,player:null,plundered:!1},{level:4,player:null,plundered:!1},{level:4,player:null,plundered:!1},{level:4,player:null,plundered:!1}],players:[{index:0,name:"derek",position:7,isCurrentTurn:!1,plunder:[1,1],willTurnBack:!0,hasTurnedBack:!0,finished:!1,money:0,drownedLastRound:!1},{index:1,name:"john",position:5,isCurrentTurn:!0,plunder:[1,1],willTurnBack:!0,hasTurnedBack:!1,finished:!1,money:0,drownedLastRound:!1}],gameState:"moved",currentPlayerId:1,rolled:{total:2,reducedBy:2,actual:0},air:{max:25,current:21},round:{current:1,max:3},availablePlunder:{1:[0,0,1,1,2,2,3,3],2:[4,4,5,5,6,6,7,7],3:[8,8,9,9,10,10,11,11],4:[12,12,13,13,14,14,15,15]}},outOfAirState:{chips:[{levels:[1],player:null,plundered:!1},{levels:[1],player:null,plundered:!1},{levels:[1],player:null,plundered:!0},{levels:[1],player:null,plundered:!1},{levels:[1],player:null,plundered:!0},{levels:[1],player:null,plundered:!1},{levels:[1],player:null,plundered:!1},{levels:[1],player:null,plundered:!0},{levels:[2],player:null,plundered:!0},{levels:[2],player:{index:0,name:"dere",position:9,isCurrentTurn:!0,plunder:[[1],[1],[1],[2],[2]],willTurnBack:!1,hasTurnedBack:!1,finished:!1,money:0,drownedLastRound:!1,performedTurnAction:!1},plundered:!0},{levels:[2],player:null,plundered:!1},{levels:[2],player:null,plundered:!1},{levels:[2],player:null,plundered:!1},{levels:[2],player:null,plundered:!1},{levels:[2],player:null,plundered:!1},{levels:[2],player:null,plundered:!1},{levels:[3],player:null,plundered:!1},{levels:[3],player:null,plundered:!1},{levels:[3],player:null,plundered:!1},{levels:[3],player:null,plundered:!1},{levels:[3],player:null,plundered:!1},{levels:[3],player:null,plundered:!1},{levels:[3],player:null,plundered:!1},{levels:[3],player:null,plundered:!1},{levels:[4],player:null,plundered:!1},{levels:[4],player:null,plundered:!1},{levels:[4],player:null,plundered:!1},{levels:[4],player:null,plundered:!1},{levels:[4],player:null,plundered:!1},{levels:[4],player:null,plundered:!1},{levels:[4],player:null,plundered:!1},{levels:[4],player:null,plundered:!1}],players:[{index:0,name:"dere",position:9,isCurrentTurn:!0,plunder:[[1],[1],[1],[2],[2]],willTurnBack:!1,hasTurnedBack:!1,finished:!1,money:0,drownedLastRound:!1,performedTurnAction:!1}],gameState:"rolled",currentPlayerId:0,rolled:{total:4,reducedBy:5,actual:0},air:{max:25,current:-4},round:{current:1,max:3},availablePlunder:{1:[0,0,1,1,2,2,3,3],2:[4,4,5,5,6,6,7,7],3:[8,8,9,9,10,10,11,11],4:[12,12,13,13,14,14,15,15]}},endOfChipsState:{chips:[{levels:[1],player:null,plundered:!1},{levels:[1],player:null,plundered:!1},{levels:[1],player:null,plundered:!1},{levels:[1],player:null,plundered:!1},{levels:[1],player:null,plundered:!1},{levels:[1],player:null,plundered:!1},{levels:[1],player:null,plundered:!1},{levels:[1],player:null,plundered:!1},{levels:[2],player:null,plundered:!1},{levels:[2],player:null,plundered:!1},{levels:[2],player:null,plundered:!1},{levels:[2],player:null,plundered:!1},{levels:[2],player:null,plundered:!1},{levels:[2],player:null,plundered:!1},{levels:[2],player:null,plundered:!1},{levels:[2],player:null,plundered:!1},{levels:[3],player:null,plundered:!1},{levels:[3],player:null,plundered:!1},{levels:[3],player:null,plundered:!1},{levels:[3],player:null,plundered:!1},{levels:[3],player:null,plundered:!1},{levels:[3],player:null,plundered:!1},{levels:[3],player:null,plundered:!1},{levels:[3],player:null,plundered:!1},{levels:[4],player:null,plundered:!1},{levels:[4],player:{index:0,name:"asd",position:25,isCurrentTurn:!1,plunder:[],willTurnBack:!1,hasTurnedBack:!1,finished:!1,money:0,drownedLastRound:!1,performedTurnAction:!1},plundered:!1},{levels:[4],player:null,plundered:!1},{levels:[4],player:null,plundered:!1},{levels:[4],player:null,plundered:!1},{levels:[4],player:null,plundered:!1},{levels:[4],player:{index:1,name:"asd",position:30,isCurrentTurn:!0,plunder:[],willTurnBack:!1,hasTurnedBack:!1,finished:!1,money:0,drownedLastRound:!1,performedTurnAction:!1},plundered:!1},{levels:[4],player:null,plundered:!1}],players:[{index:0,name:"asd",position:25,isCurrentTurn:!1,plunder:[],willTurnBack:!1,hasTurnedBack:!1,finished:!1,money:0,drownedLastRound:!1,performedTurnAction:!1},{index:1,name:"asd",position:30,isCurrentTurn:!0,plunder:[],willTurnBack:!1,hasTurnedBack:!1,finished:!1,money:0,drownedLastRound:!1,performedTurnAction:!1}],gameState:"moved",currentPlayerId:1,rolled:{total:6,reducedBy:0,actual:6},air:{max:25,current:25},round:{current:1,max:3},availablePlunder:{1:[0,0,1,1,2,2,3,3],2:[4,4,5,5,6,6,7,7],3:[8,8,9,9,10,10,11,11],4:[12,12,13,13,14,14,15,15]}},endGameState:{chips:[{levels:[1],player:null,plundered:!1},{levels:[1],player:{index:1,name:"Johnathon",position:1,isCurrentTurn:!0,plunder:[[1]],willTurnBack:!1,hasTurnedBack:!1,finished:!1,money:100,drownedLastRound:!1,performedTurnAction:!1},plundered:!0},{levels:[1],player:null,plundered:!0},{levels:[1],player:{index:0,name:"Derek",position:3,isCurrentTurn:!1,plunder:[[1],[1]],willTurnBack:!1,hasTurnedBack:!1,finished:!1,money:10,drownedLastRound:!1,performedTurnAction:!1},plundered:!0},{levels:[1],player:null,plundered:!1},{levels:[1],player:null,plundered:!1},{levels:[1],player:null,plundered:!1},{levels:[1],player:null,plundered:!1},{levels:[2],player:null,plundered:!1},{levels:[2],player:null,plundered:!1},{levels:[2],player:null,plundered:!1},{levels:[2],player:null,plundered:!1},{levels:[2],player:null,plundered:!1},{levels:[2],player:null,plundered:!1},{levels:[2],player:null,plundered:!1},{levels:[2],player:null,plundered:!1},{levels:[3],player:null,plundered:!1},{levels:[3],player:null,plundered:!1},{levels:[3],player:null,plundered:!1},{levels:[3],player:null,plundered:!1},{levels:[3],player:null,plundered:!1},{levels:[3],player:null,plundered:!1},{levels:[3],player:null,plundered:!1},{levels:[3],player:null,plundered:!1},{levels:[4],player:null,plundered:!1},{levels:[4],player:null,plundered:!1},{levels:[4],player:null,plundered:!1},{levels:[4],player:null,plundered:!1},{levels:[4],player:null,plundered:!1},{levels:[4],player:null,plundered:!1},{levels:[4],player:null,plundered:!1},{levels:[4],player:null,plundered:!1}],players:[{index:0,name:"Derek",position:3,isCurrentTurn:!1,plunder:[[1],[1]],willTurnBack:!1,hasTurnedBack:!1,finished:!1,money:100,drownedLastRound:!1,performedTurnAction:!1},{index:1,name:"Johnathon",position:1,isCurrentTurn:!0,plunder:[[1]],willTurnBack:!1,hasTurnedBack:!1,finished:!1,money:50,drownedLastRound:!1,performedTurnAction:!1},{index:2,name:"Peter Parker",position:4,isCurrentTurn:!0,plunder:[[1]],willTurnBack:!1,hasTurnedBack:!1,finished:!1,money:50,drownedLastRound:!1,performedTurnAction:!1},{index:3,name:"Peter Porker",position:4,isCurrentTurn:!0,plunder:[[1]],willTurnBack:!1,hasTurnedBack:!1,finished:!1,money:110,drownedLastRound:!1,performedTurnAction:!1}],gameState:"playing",currentPlayerId:1,rolled:{total:2,reducedBy:1,actual:1},air:{max:23,current:0},round:{current:3,max:3},availablePlunder:{1:[0,0,1,1,2,2,3,3],2:[4,4,5,5,6,6,7,7],3:[8,8,9,9,10,10,11,11],4:[12,12,13,13,14,14,15,15]}}}},13:function(e,l,n){e.exports=n(14)},14:function(e,l,n){"use strict";n.r(l),function(e){var l=n(3),r=n(12),a=n(1),t=n(4),u=n(5),d=n(2),s=n(8),p=n(7),i=n(0),o=n.n(i),c=n(10),m=n.n(c),v=(n(24),n(11)),y=n(6);function h(e){var l=null,n=e.levels.slice(),r="chip-player chip-player-"+(e.plundered?"1":e.levels.length);l=e.player?o.a.createElement("div",{className:r},g(e.player)):o.a.createElement("div",{className:r}),e.plundered&&(n=e.levels.slice(0,1));var a=n.map((function(l,n){var r="";if(e.plundered)r="Plundered";else for(var a=0;a<l;a++)r+="\u2022";var t="chip-level chip-level-"+(e.plundered?"plundered":l);return o.a.createElement("div",{key:n,className:t},r)}));return o.a.createElement("div",{className:"chip"},a,l)}var f=function(e){Object(s.a)(n,e);var l=Object(p.a)(n);function n(e){var r;return Object(t.a)(this,n),(r=l.call(this,e)).state={value:""},r.handleChange=r.handleChange.bind(Object(d.a)(r)),r.handleSubmit=r.handleSubmit(e.callBack).bind(Object(d.a)(r)),r}return Object(u.a)(n,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){var l=this;return function(n){n.preventDefault(),e(l.state.value),l.setState({value:""})}}},{key:"render",value:function(){return o.a.createElement("div",{className:"content-box"},o.a.createElement("div",{className:"box-title"},"Add player"),o.a.createElement("form",{className:"box-content",onSubmit:this.handleSubmit},o.a.createElement("label",null,"Player name"),o.a.createElement("input",{type:"text",required:"required",placeholder:'Johnathon "JoJo" Joestar',value:this.state.value,onChange:this.handleChange}),o.a.createElement("input",{type:"submit",value:"Add player to game"})))}}]),n}(o.a.Component);function k(e){for(var l="",n=0;n<e.level;n++)l+="\u2022";var r="plunder chip-level-"+e.level;return o.a.createElement("div",{className:r},l)}function b(e){var l=e.plunder.map((function(e,l){return o.a.createElement("span",{key:l,className:e.length>1?"plunder-collection":""},e.map((function(e,n){return o.a.createElement(k,{key:"".concat(l,"-").concat(n),level:e})})))}));return o.a.createElement("div",{className:"stat-value"},l)}function g(e){return e.hasTurnedBack?"\u2190 "+e.name:e.name+" \u2192"}function E(e){var l="stat";e.player.isCurrentTurn&&(l+=" stat-highlighted");var n="stat-end";return 0===e.player.plunder.length&&(n+=" stat-empty"),o.a.createElement("div",{className:l},o.a.createElement("div",{className:"stat-title"},g(e.player)),o.a.createElement(b,{plunder:e.player.plunder}),o.a.createElement("div",{className:n},"\xa3",e.player.money))}function T(e){var l=e.players.map((function(e,l){return o.a.createElement(E,{key:l,player:e})}));return o.a.createElement("div",{className:"players"},o.a.createElement("div",{className:"players-container"},o.a.createElement("h2",{className:"players-title"},"Players"),o.a.createElement("div",{className:"players-boxes"},l)))}var x=function(e){Object(s.a)(n,e);var l=Object(p.a)(n);function n(e){return Object(t.a)(this,n),l.call(this,e)}return Object(u.a)(n,[{key:"renderAddPlayers",value:function(){return o.a.createElement("div",null,o.a.createElement(f,{callBack:this.props.addPlayerCallBack}),o.a.createElement("button",{className:"start-game-button",onClick:this.props.startGameCallBack},"Start Game"))}},{key:"renderPlaying",value:function(){var e=this.props.currentPlayer,l=e.position<0||e.hasTurnedBack||e.willTurnBack,n=null,r=null;if(e.plunder.length>0){var a=e.plunder.length,t=a>1?"items":"item";n=o.a.createElement("p",null,"Reduced air by ",a," because ",g(e)," holds"," ",a," ",t," of plunder")}else n=o.a.createElement("p",null,"Not reducing air because ".concat(g(e)," holds no rune chips"));return this.props.air.current<=0&&(r=o.a.createElement("p",null,"The submarine has run out of air for the divers! This will be the"," ",o.a.createElement("b",null,"last turn of the round"),". Hopefully ",e.name," manages to make it back to the submarine!")),o.a.createElement("div",{className:"content-box"},o.a.createElement("div",{className:"box-title"},"\ud83c\udfb2 Roll the dice"),o.a.createElement("div",{className:"box-content"},n,r,o.a.createElement("button",{disabled:l,onClick:this.props.turnBackPlayer},"Make ",e.name," turn back after moving"),o.a.createElement("button",{onClick:this.props.rollDiceCallback},"Roll the dice for ",e.name)))}},{key:"getRolledText",value:function(e,l){if(0===e.reducedBy)return o.a.createElement("p",null,l.name," rolled a ",o.a.createElement("b",null,e.actual),".");var n=l.plunder.length,r=n>1?"".concat(n," items"):"1 item";if(0===e.actual)return o.a.createElement("p",null,l.name," rolled a ",e.total,". However by being exceptionally greedy and holding ",r," of plunder they cannot move an inch, resulting in them being ",o.a.createElement("b",null,"completely stuck for this turn"),".");if(e.reducedBy>0){var a=e.actual>1?"spaces":"space";return o.a.createElement("p",null,l.name," rolled a ",e.total,". However they are currently holding ",r," of plunder, meaning they can only move"," ",o.a.createElement("em",null,o.a.createElement("small",null,"(",e.total,"-",e.reducedBy,"=)")),o.a.createElement("b",null,e.actual)," ",a,".")}}},{key:"renderRolled",value:function(){var e=this.props.currentPlayer;return o.a.createElement("div",{className:"content-box"},o.a.createElement("div",{className:"box-title"},"\ud83c\udfca Move the diver"),o.a.createElement("div",{className:"box-content"},this.getRolledText(this.props.rolled,e),o.a.createElement("button",{onClick:this.props.movePlayer},"Move ",e.name," ",this.props.rolled.actual," spaces.")))}},{key:"renderRoundOver",value:function(){var e,l=this.props.players.map((function(e,l){if(e.drownedLastRound)return o.a.createElement("li",{key:l},o.a.createElement("p",null,o.a.createElement("b",null,e.name)," failed to make it back to the submarine before the air ran out. Any plunder they were holding sank to the bottom of the ocean as they made a frenzied dash to the submarine before they drowned."),o.a.createElement("p",null,"Because of this their gains for the expedition remain"," ",o.a.createElement("b",null,"\xa3",e.money),"."));if(0===e.spentPlunder.length)return o.a.createElement("li",{key:l},o.a.createElement("p",null,o.a.createElement("b",null,e.name)," made it back to the submarine safe and sound. However they forgot to plunder any treasure along the way, making their expedition kind of pointless."),o.a.createElement("p",null,"Because of this their gains for the expedition remain ",o.a.createElement("b",null,"\xa30"),"."));var n=e.spentPlunder.map((function(e){return o.a.createElement("li",{key:l},"A level ",e.level," treasure worth \xa3",e.value)}));return o.a.createElement("li",{key:l},o.a.createElement("p",null,o.a.createElement("b",null,e.name)," successfully made it back to the submarine before the air ran out and with plunder to boot! They managed to gather:"),o.a.createElement("ul",null,n),"Bringing their total gains for the expedition up to"," ",o.a.createElement("b",null,"\xa3",e.money),".")}));return e=this.props.round.current<=this.props.round.max?o.a.createElement("button",{onClick:this.props.startGameCallBack},"Next round"):o.a.createElement("button",{onClick:this.props.endGame},"End game"),o.a.createElement("div",{className:"content-box"},o.a.createElement("div",{className:"box-title"},"Results for round ",this.props.round.current-1,"/",this.props.round.max),o.a.createElement("div",{className:"box-content"},o.a.createElement("ul",null,l),e))}},{key:"renderMoved",value:function(){var e=this,l=this.props.currentPlayer,n=!this.props.currentChip.plundered&&!l.performedTurnAction,r=this.props.currentChip.plundered&&l.plunder.length>0&&!l.performedTurnAction;if(l.finished)return o.a.createElement("div",{className:"content-box"},o.a.createElement("div",{className:"box-title"},"Made it back safe and sound"),o.a.createElement("div",{className:"box-content"},o.a.createElement("p",null,"Congratulations ",g(l)," made it back to the submarine"),o.a.createElement("button",{onClick:this.props.endTurn},"End turn")));var a=null;return r&&(a=l.plunder.map((function(l,n){return o.a.createElement("button",{key:n,disabled:!r,onClick:e.props.dropPlunder(n)},"Drop plunder \xa0",o.a.createElement(b,{plunder:[l]}))}))),o.a.createElement("div",{className:"content-box"},o.a.createElement("div",{className:"box-title"},"\ud83d\udcb0 Commence plundering"),o.a.createElement("div",{className:"box-content"},o.a.createElement("p",null,g(l)," has moved to chip ",l.position+1," !"),o.a.createElement("button",{disabled:!n,onClick:this.props.plunder},"Plunder current location"),a,o.a.createElement("button",{onClick:this.props.endTurn},"End turn")))}},{key:"renderGameOver",value:function(){return o.a.createElement("div",{className:"content-box"},o.a.createElement("div",{className:"box-title"},"Game over"),o.a.createElement("div",{className:"box-content"},o.a.createElement("ol",null,this.props.gameEndScore.map((function(e){return o.a.createElement("li",{key:e},e.players.join(", ")," with \xa3",e.money)}))),o.a.createElement("p",null,"Thanks for playing!"),o.a.createElement("button",{onClick:this.props.restartGame(!0)},"Restart the game with the ",o.a.createElement("b",null,"same players")),o.a.createElement("button",{onClick:this.props.restartGame(!1)},"Restart the game with ",o.a.createElement("b",null,"new players"))))}},{key:"render",value:function(){var e=o.a.createElement("p",null,"Error: State not specified");"pregame"===this.props.gameState&&(e=this.renderAddPlayers()),"playing"===this.props.gameState&&(e=this.renderPlaying()),"rolled"===this.props.gameState&&(e=this.renderRolled()),"moved"===this.props.gameState&&(e=this.renderMoved()),"roundOver"===this.props.gameState&&(e=this.renderRoundOver()),"gameOver"===this.props.gameState&&(e=this.renderGameOver());var l=null;return["pregame","roundOver","gameOver"].includes(this.props.gameState)||(l=o.a.createElement("div",{className:"stats"},o.a.createElement("div",{className:"stat"},o.a.createElement("div",{className:"stat-title"},"Round"),o.a.createElement("div",{className:"stat-value"},this.props.round.current," / ",this.props.round.max)),o.a.createElement("div",{className:"stat"},o.a.createElement("div",{className:"stat-title"},"Current turn"),o.a.createElement("div",{className:"stat-value"},g(this.props.currentPlayer))),o.a.createElement("div",{className:"stat"},o.a.createElement("div",{className:"stat-title"},"Remaining air"),o.a.createElement("div",{className:"stat-value"},this.props.air.current," / ",this.props.air.max)))),o.a.createElement("div",{className:"game-control"},o.a.createElement("h2",null,"Game Control"),l,e)}}]),n}(o.a.Component),B=function(n){Object(s.a)(i,n);var d=Object(p.a)(i);function i(e){var l;Object(t.a)(this,i),l=d.call(this,e);var n=localStorage.getItem("gameState");return y.a.loadPreviousState&&n?l.state=JSON.parse(n):y.a.exampleState?l.state=v.a[y.a.exampleState]:l.state=l.getStartGameState(),l}return Object(u.a)(i,[{key:"getStartGameState",value:function(){return{chips:this.createChips(),players:[],gameState:"pregame",currentPlayerId:null,rolled:null,air:{current:25,max:25},round:{current:1,max:3},availablePlunder:this.generateAvailablePlunder(),gameEndScore:null}}},{key:"restartGame",value:function(e){var l=this,n=this.getStartGameState();if(e){var r=this.state.players.splice();r.forEach((function(e){return e.money=0})),n.players=r}return function(){l.setState(n)}}},{key:"setState",value:function(l){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};Object(r.a)(Object(a.a)(i.prototype),"setState",this).call(this,l,(function(){t();var l=JSON.stringify(n.state);localStorage.setItem("gameState",l),console.log("Saved "+e.byteLength(l)+" bytes of memory to local storage")}))}},{key:"generateAvailablePlunder",value:function(){var e={1:{min:0,max:3},2:{min:4,max:7},3:{min:8,max:11},4:{min:12,max:15}},l={};for(var n in e){l[n]=[];for(var r=e[n].min;r<=e[n].max;r++)for(var a=0;a<2;a++)l[n].push(r)}return l}},{key:"getCurrentPlayer",value:function(){return this.state.players[this.state.currentPlayerId]}},{key:"getCurrentChip",value:function(){var e=this.getCurrentPlayer(),l=null;return e&&e.position>=0&&(l=this.state.chips[e.position]),l}},{key:"render",value:function(){var e=this.state.chips.map((function(e,l){return o.a.createElement(h,{key:l,position:l+1,levels:e.levels,player:e.player,plundered:e.plundered})})),l=this.getCurrentPlayer(),n=this.getCurrentChip();return o.a.createElement("div",null,o.a.createElement("header",null,o.a.createElement("h1",null,"Plunder the Sea"),o.a.createElement("p",null,"Web implementation by"," ",o.a.createElement("a",{href:"https://github.com/TheDerek"},"TheDerek")),o.a.createElement("p",null,"Inspired by ",o.a.createElement("a",{href:"https://boardgamegeek.com/boardgame/169654/deep-sea-adventure"},"Deep Sea Adventure"),". Find the rules ",o.a.createElement("a",{target:"_blank",href:"/plunder-the-sea/rules.pdf"},"here"),"."),o.a.createElement("p",null,"Best played with friends in the same room or via your favourite streaming software")),o.a.createElement("div",{className:"chips"},e),o.a.createElement(x,{gameState:this.state.gameState,addPlayerCallBack:this.handleAddPlayer.bind(this),startGameCallBack:this.handleStartGame.bind(this),currentPlayer:l,currentChip:n,rollDiceCallback:this.rollDice.bind(this),rolled:this.state.rolled,movePlayer:this.movePlayer.bind(this),plunder:this.plunder.bind(this),endTurn:this.endTurn.bind(this),endGame:this.endGame.bind(this),turnBackPlayer:this.turnBackPlayer.bind(this),round:this.state.round,air:this.state.air,players:this.state.players,dropPlunder:this.dropPlunder.bind(this),gameEndScore:this.state.gameEndScore,restartGame:this.restartGame.bind(this)}),o.a.createElement(T,{players:this.state.players}))}},{key:"createChips",value:function(){for(var e=[],l=0,n=[1,2,3,4];l<n.length;l++)for(var r=n[l],a=0;a<8;a++)e.push({levels:[r],player:null,plundered:!1});return e}},{key:"handleAddPlayer",value:function(e){this.setState({players:this.state.players.concat([{index:this.state.players.length,name:e,position:-1,isCurrentTurn:!1,plunder:[],willTurnBack:!1,hasTurnedBack:!1,finished:!1,money:0,drownedLastRound:!1,performedTurnAction:!1}])})}},{key:"rollDice",value:function(){var e=[1,1,2,2,3,3],l=e[Math.floor(Math.random()*e.length)]+e[Math.floor(Math.random()*e.length)],n=this.getCurrentPlayer().plunder.length,r=l-n;r<0&&(r=0),this.setState({gameState:"rolled",rolled:{total:l,reducedBy:n,actual:r}})}},{key:"movePlayer",value:function(){var e=this.state.players.slice(),l=e[this.state.currentPlayerId],n=this.state.chips.slice(),r=this.state.rolled.actual;l.hasTurnedBack;0!==r&&(l.position>=0&&(n[l.position].player=null),l.hasTurnedBack?this.movePlayerBackwards(l,n,r):this.movePlayerForwards(l,n,r)),this.setState({gameState:"moved",players:e,chips:n})}},{key:"movePlayerForwards",value:function(e,l,n){for(var r=e.position+1;;r++){if(r>=l.length-1)for(var a=l.length-1;a>=0;a--){if(!l[a].player)return e.position=a,void(l[a].player=e)}var t=l[r];if(!t.player&&0===(n-=1))return e.position=r,void(t.player=e)}}},{key:"movePlayerBackwards",value:function(e,l,n){for(var r=e.position-1;;r--){var a=l[r];if(r<0){e.finished=!0;break}if(!a.player&&0===(n-=1)){e.position=r,a.player=e;break}}}},{key:"dropPlunder",value:function(e){var l=this;return function(){var n=l.state.players.slice(),r=n[l.state.currentPlayerId],a=l.state.chips.slice(),t=a[r.position];r.performedTurnAction=!0,t.levels=r.plunder.splice(e,1),t.plundered=!1,l.setState({players:n,chips:a})}}},{key:"handleStartGame",value:function(){var e=Math.floor(Math.random()*this.state.players.length),l=this.state.players.slice();l.forEach((function(e){return e.drownedLastRound=!1})),l[e].isCurrentTurn=!0,this.setState({gameState:"playing",currentPlayerId:e,players:l})}},{key:"plunder",value:function(){var e=this.state.players.slice(),l=this.state.chips.slice(),n=e[this.state.currentPlayerId],r=l[n.position];r.plundered=!0,n.plunder.push(r.levels),n.performedTurnAction=!0,this.setState({chips:l,players:e})}},{key:"endTurn",value:function(){var e=this.state.players.slice(),l=e.every((function(e){return e.finished}));if(this.state.air.current<=0)return this.endRound();if(l)return this.endRound();var n=e[this.state.currentPlayerId];n.isCurrentTurn=!1,n.performedTurnAction=!1,n.willTurnBack&&(n.hasTurnedBack=!0);var r=this.state.currentPlayerId,a=null;do{a=e[r=this.getNextPlayerId(r)]}while(a.finished);a.isCurrentTurn=!0;var t={max:this.state.air.max,current:this.state.air.current-a.plunder.length};this.setState({gameState:"playing",currentPlayerId:r,air:t})}},{key:"endRound",value:function(){var e,n=this.state.players.slice(),r=this.state.chips.slice(),a=Object.assign({},this.state.availablePlunder),t=[],u=Object(l.a)(n);try{var d=function(){var n=e.value;if(n.finished)n.spentPlunder=[].concat.apply([],n.plunder).map((function(e){var l=a[e],r=l.splice(Math.floor(Math.random()*l.length),1)[0];return n.money+=r,{level:e,value:r}}));else{n.drownedLastRound=!0;var r,u=Object(l.a)(n.plunder);try{for(u.s();!(r=u.n()).done;){var d,s=r.value,p=Object(l.a)(s);try{for(p.s();!(d=p.n()).done;){var i=d.value;0!==t.length&&3!==t[t.length-1].length||t.push([]),t[t.length-1].push(i)}}catch(o){p.e(o)}finally{p.f()}}}catch(o){u.e(o)}finally{u.f()}}n.plunder=[],n.position=-1,n.hasTurnedBack=!1,n.willTurnBack=!1,n.finished=!1,console.log("Players new money is "+n.money)};for(u.s();!(e=u.n()).done;)d()}catch(y){u.e(y)}finally{u.f()}for(var s=r.length-1;s>=0;s--){var p=r[s];p.player=null,p.plundered&&r.splice(s,1)}for(var i=0,o=t;i<o.length;i++){var c=o[i];r.push({levels:c,plundered:!1,position:r.length})}var m={max:this.state.air.max,current:this.state.air.max},v={current:this.state.round.current+1,max:this.state.round.max};this.setState({gameState:"roundOver",air:m,players:n,round:v,chips:r,availablePlunder:a})}},{key:"endGame",value:function(){var e,n=[],r=0,a=Object(l.a)(this.state.players);try{for(a.s();!(e=a.n()).done;){var t=e.value;t.money in n?n[t.money].push(t.name):(n[t.money]=[t.name],r++)}}catch(s){a.e(s)}finally{a.f()}var u=0,d=[];n.forEach((function(e,l){u++,d[r-u]={players:e,money:l}})),this.setState({gameState:"gameOver",gameEndScore:d})}},{key:"getNextPlayerId",value:function(e){return e>=this.state.players.length-1?0:e+1}},{key:"turnBackPlayer",value:function(){var e=this.state.players.slice();e[this.state.currentPlayerId].willTurnBack=!0,this.setState({players:e})}}]),i}(o.a.Component);m.a.render(o.a.createElement(B,null),document.getElementById("root"))}.call(this,n(15).Buffer)},24:function(e,l,n){},6:function(e,l,n){"use strict";n.d(l,"a",(function(){return r}));var r={loadPreviousState:!1,exampleState:null}}},[[13,1,2]]]);
//# sourceMappingURL=main.abee97aa.chunk.js.map